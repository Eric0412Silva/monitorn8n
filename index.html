<!DOCTYPE html>
<html lang="pt-br" class="h-full antialiased">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doc Interativa | Monitor Universal Multi-Cloud</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Application Structure Plan: SPA Responsiva com Copyright no rodap√©. -->
    <style>
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
        }
        
        /* --- Estilos do Diagrama de Fluxo --- */
        .workflow-arrow {
            position: relative;
            height: 30px;
            width: 2px;
            background-color: #9ca3af; /* gray-400 */
            margin-left: auto;
            margin-right: auto;
        }
        .workflow-arrow::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: -4px;
            width: 0;
            height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-top: 5px solid #9ca3af;
        }
        
        /* N√≥ Diamante (Decis√£o) */
        .workflow-node.diamond {
            width: 140px;
            height: 80px;
            transform: rotate(45deg);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px auto;
        }
        @media (min-width: 768px) {
            .workflow-node.diamond {
                width: 180px;
                height: 100px;
            }
        }
        .workflow-node.diamond span {
            transform: rotate(-45deg);
            max-width: 120px;
            text-align: center;
            font-size: 0.9rem;
            line-height: 1.1;
        }

        /* Linhas de Ramifica√ß√£o */
        .if-branch {
            position: relative;
            width: 100%;
        }
        .if-branch::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            width: 50%;
            height: 2px;
            background-color: #9ca3af;
        }
        .if-branch.true-branch::before { left: 50%; }
        .if-branch.false-branch::before { right: 50%; width: 50%; left: 0; }
        
        .if-branch .workflow-arrow {
            position: absolute;
            top: -15px;
        }
        .if-branch.true-branch .workflow-arrow { right: 0; left: auto; }
        .if-branch.false-branch .workflow-arrow { left: 0; right: auto; }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        .nav-link.active {
            background-color: #f0f9ff; /* sky-50 */
            color: #0369a1; /* sky-700 */
            font-weight: 600;
            border-right: 3px solid #0369a1;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 h-full">

    <div class="flex h-full flex-col md:flex-row">
        
        <!-- Header Mobile -->
        <header class="md:hidden sticky top-0 bg-white shadow-sm z-30 w-full flex items-center justify-between p-4 border-b border-slate-200">
            <div class="flex items-center">
                <span class="bg-sky-600 text-white p-1.5 rounded-md mr-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"></path></svg>
                </span>
                <h2 class="text-lg font-bold text-slate-900">Monitor Universal</h2>
            </div>
            <button id="menu-btn" class="p-2 rounded-md text-slate-600 hover:bg-slate-100">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
            </button>
        </header>

        <!-- Overlay Mobile -->
        <div id="mobile-menu-overlay" class="fixed inset-0 bg-slate-900/50 z-40 hidden transition-opacity duration-300 md:hidden backdrop-blur-sm"></div>

        <!-- Sidebar -->
        <aside id="sidebar" class="fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-slate-200 transform -translate-x-full transition-transform duration-300 ease-in-out md:translate-x-0 md:static md:h-screen md:flex-shrink-0 overflow-y-auto">
            <div class="p-6 hidden md:flex items-center border-b border-slate-100">
                <span class="bg-sky-600 text-white p-1.5 rounded-md mr-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"></path></svg>
                </span>
                <div>
                    <h2 class="text-xl font-bold text-slate-900">Monitor Cloud</h2>
                    <p class="text-xs text-slate-500 font-medium">Doc. T√©cnica v2.1</p>
                </div>
            </div>
            
            <div class="p-4 md:hidden flex justify-between items-center border-b border-slate-100 bg-slate-50">
                <span class="font-semibold text-slate-700">Menu</span>
                <button id="close-menu-btn" class="text-slate-500">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>

            <nav class="p-4 space-y-1">
                <a href="#overview" class="nav-link group flex items-center px-3 py-2.5 text-sm font-medium text-slate-600 rounded-r-md hover:bg-sky-50 hover:text-sky-600 transition-colors">Vis√£o Geral</a>
                <a href="#requirement" class="nav-link group flex items-center px-3 py-2.5 text-sm font-medium text-slate-600 rounded-r-md hover:bg-sky-50 hover:text-sky-600 transition-colors">Requisito Multi-Cloud</a>
                <a href="#architecture" class="nav-link group flex items-center px-3 py-2.5 text-sm font-medium text-slate-600 rounded-r-md hover:bg-sky-50 hover:text-sky-600 transition-colors">Arquitetura Universal</a>
                <a href="#services" class="nav-link group flex items-center px-3 py-2.5 text-sm font-medium text-slate-600 rounded-r-md hover:bg-sky-50 hover:text-sky-600 transition-colors">Servi√ßos Monitorados</a>
                <a href="#logic" class="nav-link group flex items-center px-3 py-2.5 text-sm font-medium text-slate-600 rounded-r-md hover:bg-sky-50 hover:text-sky-600 transition-colors">C√≥digo "C√©rebro"</a>
                <a href="#sustainment" class="nav-link group flex items-center px-3 py-2.5 text-sm font-medium text-slate-600 rounded-r-md hover:bg-sky-50 hover:text-sky-600 transition-colors">Sustenta√ß√£o</a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 h-[calc(100vh-64px)] md:h-screen overflow-y-auto scroll-smooth">
            <div class="max-w-5xl mx-auto p-4 md:p-10 space-y-16 pb-10">
                
                <!-- 1. Vis√£o Geral -->
                <section id="overview" class="scroll-mt-24 md:scroll-mt-10">
                    <div class="space-y-4">
                        <span class="inline-block px-3 py-1 text-xs font-semibold text-sky-600 bg-sky-100 rounded-full uppercase tracking-wide">Documenta√ß√£o T√©cnica</span>
                        <h1 class="text-3xl md:text-4xl font-extrabold text-slate-900 leading-tight">Monitoramento Universal Multi-Cloud</h1>
                        <p class="text-lg text-slate-600 leading-relaxed">
                            Documenta√ß√£o da nova arquitetura do rob√¥ de monitoramento (v2.1). Esta vers√£o implementa um <strong>"Tradutor Universal"</strong> capaz de consumir e normalizar dados de status de diferentes provedores (Google, Azure, Cloudflare, SAP, etc.) que utilizam padr√µes distintos (JSON, XML/RSS).
                        </p>
                        
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 pt-4">
                            <div class="bg-white p-4 rounded-lg shadow-sm border border-slate-200">
                                <div class="text-xs font-bold text-slate-400 uppercase mb-1">Capacidade</div>
                                <div class="font-semibold text-sky-700">Multi-Formato (JSON/XML)</div>
                            </div>
                            <div class="bg-white p-4 rounded-lg shadow-sm border border-slate-200">
                                <div class="text-xs font-bold text-slate-400 uppercase mb-1">Status</div>
                                <div class="font-semibold text-emerald-600">Produ√ß√£o</div>
                            </div>
                            <div class="bg-white p-4 rounded-lg shadow-sm border border-slate-200">
                                <div class="text-xs font-bold text-slate-400 uppercase mb-1">Nota</div>
                                <div class="font-semibold text-amber-600">AWS Inativa (Code-Only)</div>
                            </div>
                        </div>
                    </div>
                </section>

                <hr class="border-slate-200">

                <!-- 2. Requisito -->
                <section id="requirement" class="scroll-mt-24 md:scroll-mt-10">
                    <h2 class="text-2xl md:text-3xl font-bold text-slate-900 mb-6">Requisito Multi-Cloud</h2>
                    <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                        <div class="p-6 md:p-8 space-y-6">
                            <div>
                                <h3 class="flex items-center text-lg font-semibold text-slate-800 mb-2">
                                    Desafio T√©cnico
                                </h3>
                                <p class="text-slate-600">O monitoramento abrange provedores de nuvem e SaaS que n√£o seguem um padr√£o √∫nico de Status Page, exigindo suporte a m√∫ltiplos formatos:</p>
                                <div class="mt-4 grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    <div class="p-3 bg-slate-50 rounded border border-slate-200">
                                        <span class="font-bold text-slate-700">Google Cloud</span>
                                        <span class="text-sm text-slate-500 block">Retorna uma Lista JSON (`[]`).</span>
                                    </div>
                                    <div class="p-3 bg-slate-50 rounded border border-slate-200">
                                        <span class="font-bold text-slate-700">Azure (Microsoft)</span>
                                        <span class="text-sm text-slate-500 block">Retorna XML (RSS Feed).</span>
                                    </div>
                                    <div class="p-3 bg-slate-50 rounded border border-slate-200">
                                        <span class="font-bold text-slate-700">SaaS (Atlassian/SAP/Outros)</span>
                                        <span class="text-sm text-slate-500 block">Retorna Objeto JSON (`{status:...}`).</span>
                                    </div>
                                    <div class="p-3 bg-slate-50 rounded border border-slate-200 opacity-75">
                                        <span class="font-bold text-slate-500">AWS (Amazon)</span>
                                        <span class="text-sm text-slate-400 block">C√≥digo presente, mas comentado (Inativo).</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <hr class="border-slate-200">

                <!-- 3. Arquitetura -->
                <section id="architecture" class="scroll-mt-24 md:scroll-mt-10">
                    <h2 class="text-2xl md:text-3xl font-bold text-slate-900 mb-6">Arquitetura Universal</h2>
                    <p class="text-slate-600 mb-6">Abaixo est√° o fluxo atualizado. O diferencial √© o tratamento de dados como <strong>Texto Bruto</strong> no HTTP Request para evitar erros de parseamento do XML da Azure.</p>
                    
                    <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-4 md:p-8 overflow-hidden">
                        <div class="overflow-x-auto pb-4 custom-scrollbar flex flex-col items-center min-w-[300px]">
                            
                            <!-- N√≥ 1 -->
                            <div class="workflow-node bg-green-50 border border-green-200 hover:border-green-400 text-green-900 rounded-lg p-3 w-56 text-center shadow-sm cursor-pointer transition-all active:scale-95" data-node="trigger">
                                <div class="text-xs font-bold uppercase text-green-600 mb-1">Trigger</div>
                                <div class="font-semibold text-sm">A cada 15 min</div>
                            </div>
                            <div class="workflow-arrow"></div>

                            <!-- N√≥ 2 -->
                            <div class="workflow-node bg-white border border-slate-300 hover:border-sky-400 text-slate-800 rounded-lg p-3 w-56 text-center shadow-sm cursor-pointer transition-all active:scale-95" data-node="lista">
                                <div class="text-xs font-bold uppercase text-slate-400 mb-1">Code</div>
                                <div class="font-semibold text-sm">Lista Big Techs</div>
                            </div>
                            <div class="workflow-arrow"></div>

                            <!-- N√≥ 3 -->
                            <div class="workflow-node bg-amber-50 border border-amber-300 hover:border-amber-500 text-amber-900 rounded-lg p-3 w-56 text-center shadow-sm cursor-pointer transition-all active:scale-95" data-node="http">
                                <div class="text-xs font-bold uppercase text-amber-600 mb-1">HTTP Request</div>
                                <div class="font-semibold text-sm">Baixar Dados (Auto Decode)</div>
                                <div class="text-[10px] text-amber-700 mt-1">(Response Format: Text)</div>
                            </div>
                            <div class="workflow-arrow"></div>

                            <!-- N√≥ 4 -->
                            <div class="workflow-node bg-indigo-50 border border-indigo-300 hover:border-indigo-500 text-indigo-900 rounded-lg p-3 w-56 text-center shadow-sm cursor-pointer transition-all active:scale-95" data-node="cerebro">
                                <div class="text-xs font-bold uppercase text-indigo-600 mb-1">Code (JS)</div>
                                <div class="font-semibold text-sm">C√©rebro Multi-Cloud</div>
                            </div>
                            <div class="workflow-arrow"></div>

                            <!-- N√≥ 5 (IF) -->
                            <div class="workflow-node diamond bg-yellow-50 border border-yellow-400 text-yellow-900 shadow-sm cursor-pointer transition-all active:scale-95" data-node="if">
                                <span class="font-bold text-sm">Teve Erro?</span>
                            </div>
                            
                            <!-- Branches -->
                            <div class="flex w-full max-w-md mt-2">
                                <div class="w-1/2 px-1 text-center relative if-branch false-branch">
                                    <span class="text-xs font-bold text-slate-400 bg-white px-1 absolute -top-7 left-1/4 z-10">False</span>
                                    <div class="workflow-arrow" style="margin-top: -15px;"></div>
                                    <div class="workflow-node bg-green-50 border border-green-200 hover:border-green-400 text-green-900 rounded-lg p-3 shadow-sm cursor-pointer mt-4" data-node="sucesso">
                                        <div class="text-xs font-bold uppercase text-green-600 mb-1">Telegram</div>
                                        <div class="font-semibold text-sm">Sucesso</div>
                                    </div>
                                </div>
                                <div class="w-1/2 px-1 text-center relative if-branch true-branch">
                                    <span class="text-xs font-bold text-red-400 bg-white px-1 absolute -top-7 right-1/4 z-10">True</span>
                                    <div class="workflow-arrow" style="margin-top: -15px;"></div>
                                    <div class="workflow-node bg-red-50 border border-red-200 hover:border-red-400 text-red-900 rounded-lg p-3 shadow-sm cursor-pointer mt-4" data-node="alerta">
                                        <div class="text-xs font-bold uppercase text-red-600 mb-1">Telegram</div>
                                        <div class="font-semibold text-sm">Alerta</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <hr class="border-slate-200">

                <!-- 4. Servi√ßos -->
                <section id="services" class="scroll-mt-24 md:scroll-mt-10">
                    <h2 class="text-2xl md:text-3xl font-bold text-slate-900 mb-6">Servi√ßos Monitorados</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                        <!-- Azure -->
                        <div class="p-4 bg-white rounded-lg border border-slate-200 shadow-sm flex items-center space-x-3 border-l-4 border-l-sky-500">
                            <div class="min-w-0">
                                <h3 class="font-semibold text-slate-900">Azure</h3>
                                <p class="text-xs text-slate-500">XML/RSS</p>
                            </div>
                        </div>
                        <!-- Google -->
                        <div class="p-4 bg-white rounded-lg border border-slate-200 shadow-sm flex items-center space-x-3 border-l-4 border-l-blue-500">
                            <div class="min-w-0">
                                <h3 class="font-semibold text-slate-900">Google Cloud</h3>
                                <p class="text-xs text-slate-500">JSON Array</p>
                            </div>
                        </div>
                        <!-- Cloudflare -->
                        <div class="p-4 bg-white rounded-lg border border-slate-200 shadow-sm flex items-center space-x-3 border-l-4 border-l-orange-500">
                            <div class="min-w-0">
                                <h3 class="font-semibold text-slate-900">Cloudflare</h3>
                                <p class="text-xs text-slate-500">JSON Atlassian</p>
                            </div>
                        </div>
                        <!-- Infobip -->
                        <div class="p-4 bg-white rounded-lg border border-slate-200 shadow-sm flex items-center space-x-3 border-l-4 border-l-orange-500">
                            <div class="min-w-0">
                                <h3 class="font-semibold text-slate-900">Infobip</h3>
                                <p class="text-xs text-slate-500">JSON Atlassian</p>
                            </div>
                        </div>
                        <!-- Unico -->
                        <div class="p-4 bg-white rounded-lg border border-slate-200 shadow-sm flex items-center space-x-3 border-l-4 border-l-orange-500">
                            <div class="min-w-0">
                                <h3 class="font-semibold text-slate-900">Unico</h3>
                                <p class="text-xs text-slate-500">JSON Atlassian</p>
                            </div>
                        </div>
                        <!-- Serasa -->
                        <div class="p-4 bg-white rounded-lg border border-slate-200 shadow-sm flex items-center space-x-3 border-l-4 border-l-orange-500">
                            <div class="min-w-0">
                                <h3 class="font-semibold text-slate-900">Serasa</h3>
                                <p class="text-xs text-slate-500">JSON Atlassian</p>
                            </div>
                        </div>
                        <!-- SAP -->
                        <div class="p-4 bg-white rounded-lg border border-slate-200 shadow-sm flex items-center space-x-3 border-l-4 border-l-orange-500">
                            <div class="min-w-0">
                                <h3 class="font-semibold text-slate-900">SAP for Me</h3>
                                <p class="text-xs text-slate-500">JSON Atlassian</p>
                            </div>
                        </div>
                        <!-- Atlassian -->
                        <div class="p-4 bg-white rounded-lg border border-slate-200 shadow-sm flex items-center space-x-3 border-l-4 border-l-orange-500">
                            <div class="min-w-0">
                                <h3 class="font-semibold text-slate-900">Atlassian</h3>
                                <p class="text-xs text-slate-500">JSON Atlassian</p>
                            </div>
                        </div>
                    </div>
                    <div class="mt-4 text-sm text-slate-500 bg-slate-50 p-3 rounded border border-slate-200 inline-block">
                        <strong>Nota AWS:</strong> O endpoint <code>data.json</code> da Amazon est√° presente no c√≥digo, mas comentado (desativado) devido a bloqueios de WAF.
                    </div>
                </section>

                <hr class="border-slate-200">

                <!-- 5. L√≥gica JS -->
                <section id="logic" class="scroll-mt-24 md:scroll-mt-10">
                    <h2 class="text-2xl md:text-3xl font-bold text-slate-900 mb-6">C√≥digo "C√©rebro Multi-Cloud"</h2>
                    <p class="text-slate-600 mb-6">Este √© o script que normaliza os dados. Note como ele verifica se o dado recebido √© JSON ou XML (para Azure) antes de processar.</p>
                    
                    <div class="bg-slate-900 text-white rounded-xl shadow-lg overflow-hidden">
                        <div class="flex justify-between items-center px-4 py-3 bg-slate-800 border-b border-slate-700">
                            <span class="text-xs font-mono text-slate-400">JavaScript (Code Node)</span>
                            <button id="copy-btn" class="text-xs font-medium bg-slate-700 hover:bg-slate-600 text-slate-300 px-3 py-1.5 rounded transition-colors">
                                Copiar C√≥digo
                            </button>
                        </div>
                        <div class="p-4 overflow-x-auto">
<pre><code id="code-block" class="language-javascript text-sm font-mono leading-relaxed text-slate-300">
const originals = $('Lista Big Techs').all();
const responses = $input.all();

let messageLines = [];
let hasError = false;

originals.forEach((original, index) => {
  const name = original.json.name;
  // Pega dados brutos (string ou json)
  const rawData = responses[index] ? (responses[index].json.data || responses[index].json) : "";
  
  let indicator = 'unknown';
  let description = 'Erro de Leitura';

  try {
    let jsonData = null;
    
    // Tenta converter para JSON (se n√£o for XML)
    if (typeof rawData === 'object') {
        jsonData = rawData;
    } else if (typeof rawData === 'string') {
        // Ignora se parecer XML (Azure)
        if (!rawData.trim().startsWith('<') && !rawData.includes('<?xml')) {
            try { jsonData = JSON.parse(rawData); } catch(e) { jsonData = null; }
        }
    }

    // 1. L√ìGICA GOOGLE (Array)
    if (Array.isArray(jsonData)) {
       if (jsonData.length === 0) {
         indicator = 'none';
       } else {
         indicator = 'critical';
         description = jsonData[0].external_desc || "Incidente Google Cloud";
       }
    }
    // 2. L√ìGICA ATLASSIAN / PADR√ÉO (Cloudflare, Infobip, SAP, Unico, etc.)
    else if (jsonData && jsonData.status) {
       indicator = jsonData.status.indicator;
       description = jsonData.status.description;
    }
    // 3. L√ìGICA AZURE (XML/RSS - Detec√ß√£o via String)
    else if (typeof rawData === 'string' && (rawData.includes('<?xml') || rawData.includes('<rss'))) {
       // Se tiver a tag <item>, existe um incidente publicado
       if (rawData.includes('<item>')) {
         indicator = 'critical';
         description = "Incidente no Feed Azure";
       } else {
         indicator = 'none';
       }
    }
    // 4. L√ìGICA AWS (Inativa / Comentada no C√≥digo Fonte)
    else {
        description = "Formato desconhecido/vazio";
    }

  } catch (err) {
    indicator = 'unknown';
    description = "Erro script: " + err.message;
  }

  // Formata√ß√£o Visual
  if (indicator === 'none' || indicator === 'operational') {
    messageLines.push(`üü¢ *${name}:* Operacional`);
  } else if (indicator === 'unknown') {
    messageLines.push(`‚ö™ *${name}:* ${description}`);
  } else {
    hasError = true;
    messageLines.push(`üî¥ *${name}:* INST√ÅVEL (${description})`);
  }
});

// Mensagem Final
let finalMessage = "‚òÅÔ∏è *Monitoramento de Nuvem*\\n\\n";
finalMessage += messageLines.join('\\n');

if (hasError) {
  finalMessage += "\\n\\n‚ö†Ô∏è *Aten√ß√£o:* Instabilidades detectadas.";
} else {
  finalMessage += "\\n\\n‚úÖ Infraestrutura de nuvem est√°vel.";
}

return [{ json: { has_error: hasError, message: finalMessage } }];
</code></pre>
                        </div>
                    </div>
                </section>

                <!-- 6. Sustenta√ß√£o -->
                <section id="sustainment" class="scroll-mt-24 md:scroll-mt-10">
                    <h2 class="text-2xl md:text-3xl font-bold text-slate-900 mb-6">Sustenta√ß√£o</h2>
                    <div class="bg-slate-50 p-6 rounded-xl border border-slate-200">
                        <h3 class="font-bold text-slate-800 mb-4">Pontos de Aten√ß√£o</h3>
                        <ul class="space-y-3 text-sm text-slate-700">
                            <li class="flex items-start">
                                <svg class="w-5 h-5 text-amber-500 mr-2 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                                <span><strong>AWS:</strong> Mantida a l√≥gica no c√≥digo para reativa√ß√£o futura, mas removida da lista de execu√ß√£o para evitar ru√≠do de alertas falsos.</span>
                            </li>
                            <li class="flex items-start">
                                <svg class="w-5 h-5 text-sky-500 mr-2 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                <span><strong>Expans√£o:</strong> Servi√ßos novos que usam o padr√£o Atlassian (como Serasa, SAP, Unico) funcionam automaticamente ao serem adicionados na "Lista Big Techs", pois caem na l√≥gica "L√≥gica Atlassian" do script.</span>
                            </li>
                        </ul>
                    </div>
                </section>

                <!-- Rodap√© Copyright -->
                <footer class="mt-12 pt-6 border-t border-slate-200 text-center">
                    <p class="text-slate-500 text-sm font-medium">
                        &copy; 2025 Eric Silva
                    </p>
                </footer>

            </div>
        </main>
    </div>

    <!-- Modal Detalhes -->
    <div id="modal-overlay" class="fixed inset-0 bg-black/60 z-[60] hidden transition-opacity duration-300 backdrop-blur-sm"></div>
    <div id="modal" class="fixed inset-0 z-[70] flex items-end md:items-center justify-center p-0 md:p-4 hidden">
        <div id="modal-content" class="bg-white w-full md:max-w-lg rounded-t-2xl md:rounded-2xl shadow-2xl overflow-hidden transform transition-all duration-300 translate-y-full md:translate-y-0 md:scale-95 md:opacity-0">
            <div class="flex justify-between items-center p-4 border-b border-slate-100 bg-slate-50">
                <h3 id="modal-title" class="text-lg font-bold text-slate-900"></h3>
                <button id="modal-close" class="p-1 rounded-full hover:bg-slate-200 transition-colors text-slate-500">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <div id="modal-body" class="p-6 text-slate-600 space-y-4 max-h-[70vh] overflow-y-auto"></div>
            <div class="p-4 border-t border-slate-100 bg-slate-50 md:hidden">
                <button id="modal-close-btn-bottom" class="w-full bg-slate-200 text-slate-800 font-semibold py-3 rounded-lg">Fechar</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const menuBtn = document.getElementById('menu-btn');
            const closeMenuBtn = document.getElementById('close-menu-btn');
            const sidebar = document.getElementById('sidebar');
            const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
            const navLinks = document.querySelectorAll('.nav-link');

            function toggleMenu(show) {
                if (show) {
                    sidebar.classList.remove('-translate-x-full');
                    mobileMenuOverlay.classList.remove('hidden');
                    document.body.style.overflow = 'hidden';
                } else {
                    sidebar.classList.add('-translate-x-full');
                    mobileMenuOverlay.classList.add('hidden');
                    document.body.style.overflow = '';
                }
            }

            menuBtn.addEventListener('click', () => toggleMenu(true));
            closeMenuBtn.addEventListener('click', () => toggleMenu(false));
            mobileMenuOverlay.addEventListener('click', () => toggleMenu(false));
            navLinks.forEach(l => l.addEventListener('click', () => { if(window.innerWidth < 768) toggleMenu(false) }));

            // Modal Logic
            const modal = document.getElementById('modal');
            const modalOverlay = document.getElementById('modal-overlay');
            const modalContent = document.getElementById('modal-content');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');
            const modalCloseBtn = document.getElementById('modal-close');
            const modalCloseBtnBottom = document.getElementById('modal-close-btn-bottom');

            const nodeData = {
                trigger: { title: "N√≥: Trigger (Agendamento)", details: "<p>Inicia o fluxo a cada 15 minutos.</p>" },
                lista: { title: "N√≥: Lista Big Techs", details: "<p>Define o Array de servi√ßos (Azure, Google, e lista expandida de SaaS). AWS est√° comentada nesta lista para evitar erros.</p>" },
                http: { title: "N√≥: Baixar Dados (Auto Decode)", details: "<p>Realiza o GET nas URLs. <strong>Configura√ß√£o Cr√≠tica:</strong> 'Response Format' deve ser 'Text'. Isso impede que o n8n tente ler XML como JSON e falhe.</p>" },
                cerebro: { title: "N√≥: C√©rebro Multi-Cloud", details: "<p>O cora√ß√£o do fluxo. Detecta se o texto recebido √© XML (Azure), JSON Array (Google) ou JSON Object (Padr√£o Atlassian) e aplica a l√≥gica de extra√ß√£o correta.</p>" },
                if: { title: "N√≥: Teve Erro?", details: "<p>Verifica se a vari√°vel <code>has_error</code> √© verdadeira.</p>" },
                alerta: { title: "N√≥: Telegram Alerta", details: "<p>Envia mensagem formatada com os incidentes.</p>" },
                sucesso: { title: "N√≥: Telegram Sucesso", details: "<p>Envia mensagem de estabilidade total.</p>" }
            };

            function openModal(key) {
                if(!nodeData[key]) return;
                modalTitle.innerText = nodeData[key].title;
                modalBody.innerHTML = nodeData[key].details;
                modal.classList.remove('hidden');
                modalOverlay.classList.remove('hidden');
                setTimeout(() => {
                    modalContent.classList.remove('translate-y-full', 'md:scale-95', 'md:opacity-0');
                    modalContent.classList.add('translate-y-0', 'md:scale-100', 'md:opacity-100');
                }, 10);
            }

            function closeModal() {
                modalContent.classList.remove('translate-y-0', 'md:scale-100', 'md:opacity-100');
                modalContent.classList.add('translate-y-full', 'md:scale-95', 'md:opacity-0');
                setTimeout(() => {
                    modal.classList.add('hidden');
                    modalOverlay.classList.add('hidden');
                }, 300);
            }

            document.querySelectorAll('.workflow-node').forEach(n => {
                n.addEventListener('click', () => openModal(n.getAttribute('data-node')));
            });

            [modalCloseBtn, modalCloseBtnBottom, modalOverlay].forEach(el => el.addEventListener('click', closeModal));

            // Copy Code
            const copyBtn = document.getElementById('copy-btn');
            const codeBlock = document.getElementById('code-block');
            copyBtn.addEventListener('click', () => {
                const ta = document.createElement('textarea');
                ta.value = codeBlock.innerText;
                ta.style.position='fixed'; ta.style.left='-9999px';
                document.body.appendChild(ta); ta.select();
                try { document.execCommand('copy'); copyBtn.textContent = "Copiado!"; setTimeout(()=> copyBtn.textContent="Copiar C√≥digo", 2000); } catch(e){}
                document.body.removeChild(ta);
            });
        });
    </script>
</body>
</html>
